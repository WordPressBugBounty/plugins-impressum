(()=>{"use strict";const e=window.wp.blocks,l=window.wp.i18n,t=window.wp.element,s=window.wp.primitives,i=(0,t.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(s.Path,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"})),n=window.React,a=window.wp.components,r=window.wp.blockEditor;function m(e){const{enabledFields:t,setAttributes:s}=e,i=structuredClone(t).sort(),m=Object.keys(impressum_fields.values).map((e=>impressum_fields.values[e].no_output?null:e)).filter(Boolean).sort();return(0,n.createElement)(r.InspectorControls,null,(0,n.createElement)(a.PanelBody,{title:(0,l.__)("Enabled Fields","impressum")},(0,n.createElement)("div",{className:"impressum__checkbox-select"},(0,n.createElement)(a.CheckboxControl,{key:"enabled-field-all",label:(0,l.__)("All","impressum"),checked:void 0!==t&&(-1!==t.indexOf("all")||Object.keys(impressum_fields.values).length===t.length||i.toString()===m.toString()),indeterminate:void 0!==t&&-1===t.indexOf("all")&&t.length>=1&&t.length<Object.keys(impressum_fields.values).length&&i.toString()!==m.toString(),value:"all",onChange:e=>(e=>{s(e?{enabledFields:["all"]}:{enabledFields:[]})})(e)}),Object.keys(impressum_fields.values).map(((e,l)=>{const i=impressum_fields.values[e];return i.no_output?null:(0,n.createElement)(a.CheckboxControl,{key:"enabled-field-"+l,label:i.custom_title||i.title,checked:-1!==t.indexOf("all")||-1!==t.indexOf(e),value:e,onChange:l=>((e,l)=>{let i=structuredClone(t);if(l)i.push(e);else{i.indexOf("all")>-1&&(i=m);const l=i.indexOf(e);-1!==l&&i.splice(l,1)}s({enabledFields:i})})(e,l)})})))))}window.wp.deprecated;const u=e=>e.length?e.trim().split("\n").map(((l,t)=>(0,n.createElement)(n.Fragment,{key:t},l,t+1<e.trim().split("\n").length&&(0,n.createElement)("br",null)))):null,d=[{attributes:{enabledFields:{default:[],type:"array"}},migrate:({enabledFields:e})=>{const l=Object.keys(impressum_fields.fields),t=[];for(const s of l)for(const l of e)impressum_fields.fields[s].title===l&&t.push(s);return 0===t.length&&t.push("all"),{enabledFields:t}},isEligible:()=>!0,save:()=>null,supports:{html:!1}}];(0,e.registerBlockType)("impressum/imprint",{title:(0,l.__)("Imprint","impressum"),icon:i,category:"common",attributes:{enabledFields:{default:["all"],type:"array"}},deprecated:d,edit:e=>{const{attributes:{enabledFields:t},className:s,setAttributes:r}=e;let d=t;-1!==t.indexOf("all")&&(d=Object.keys(impressum_fields.values).map((e=>impressum_fields.values[e].no_output?null:e)).filter(Boolean));const o=function(e,t,s){const i=e;return i.length?i.map((e=>{let s="";if(!e||!impressum_fields.values[e]||impressum_fields.values[e].no_output||!impressum_fields.values[e].value)return"";e.includes("email")&&(s=(0,n.createElement)("a",{href:"mailto:"+impressum_fields.values[e].value},impressum_fields.values[e].value));let i="";switch(e){case"contact_form_page":i=(0,n.createElement)("dd",null,(0,n.createElement)("a",{href:impressum_fields.values[e].value},(0,l.__)("To the contact form","impressum")));break;case"free_text":i=(0,n.createElement)("dd",{dangerouslySetInnerHTML:{__html:(s||impressum_fields.values[e].value).replace(/(?:\r\n|\r|\n)/g,"<br />")}});break;default:i=(0,n.createElement)("dd",null,s||u(impressum_fields.values[e].value))}return(0,n.createElement)("div",{key:e},!t.includes("is-style-no-title")&&(0,n.createElement)("dl",null,(0,n.createElement)("dt",null,impressum_fields.values[e].custom_title||impressum_fields.values[e].field_title||impressum_fields.values[e].title),i),t.includes("is-style-no-title")&&(0,n.createElement)("p",null,s||u(impressum_fields.values[e].value)))})).filter(Boolean):[]}(d,s);return(0,n.createElement)("div",{className:s},(0,n.createElement)(m,{enabledFields:t,setAttributes:r}),o.length?o:(0,n.createElement)(a.Placeholder,{icon:i,label:(0,l.__)("Imprint","impressum")},(0,l.__)("There is currently no imprint data set or activated.","impressum")))},save:()=>null,keywords:[(0,l.__)("legal","impressum"),(0,l.__)("information","impressum")],styles:[{name:"default",label:(0,l.__)("Default","impressum"),isDefault:!0},{name:"no-title",label:(0,l.__)("Without Titles","impressum")}],supports:{html:!1}})})();