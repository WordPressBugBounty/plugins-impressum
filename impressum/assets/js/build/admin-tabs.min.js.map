{"version":3,"file":"admin-tabs.min.js","mappings":"AAAAA,SAASC,iBAAkB,oBAAoB,KAC9C,MAAMC,EAAOF,SAASG,iBAAkB,YAClCC,EAAcJ,SAASG,iBAAkB,qBACzCE,EAAe,cAEfC,EADY,IAAIC,gBAAiBC,OAAOC,SAASC,QAC3BC,IAAKN,GAC3BO,EAAeZ,SAASa,cAAe,6BAExCP,GACJQ,EAAcR,GAGf,IAAM,MAAMS,KAAOb,EAClBa,EAAId,iBAAkB,QAASe,GAC/BD,EAAId,iBAAkB,WAAagB,IAClC,MAAMC,EAAaD,EAAME,cACzB,IAAIC,EAEJ,OAASH,EAAMI,KACd,IAAK,YACJD,EAAeF,EAAWI,uBAC1B,MACD,IAAK,aACJF,EAAeF,EAAWK,mBAC1B,MACD,IAAK,MACJH,EAAelB,EAAMA,EAAKsB,OAAS,GACnC,MACD,IAAK,OACJJ,EAAelB,EAAM,GAIlBkB,IACJH,EAAMQ,iBACNL,EAAaM,QACbZ,EAAcM,EAAaO,aAAc,aAC1C,IASF,SAASX,EAAUC,GAClBA,EAAMQ,iBAEN,MAAMN,EAAgBF,EAAME,cAG5BL,EAFaK,EAAcQ,aAAc,cAMzCC,QAAQC,UAAW,KAAM,KAAMV,EAAcW,KAC9C,CAOA,SAAShB,EAAciB,GACtB,IAAM,MAAMC,KAAW9B,EACtB8B,EAAQC,cAAe,EACvBD,EAAQE,UAAUC,OAAQ,kBAC1BH,EAAQI,UAAY,EAGrB,IAAM,MAAMC,KAAcjC,EAAc,CACvCiC,EAAWH,UAAUC,OAAQ,0BAC7BE,EAAWC,QAAS,EACpBD,EAAWD,UAAY,EACvB,MAAMG,EACLF,EAAWlC,iBAAkB,mBAE9B,GAAKoC,EAAcf,OAClB,IAAM,MAAMgB,KAAgBD,EACpBC,EAAaC,KAAKC,SAAU,gBAClCF,EAAaC,MAAQ,cAGfD,EAAaG,GAAGD,SAAU,gBAChCF,EAAaG,IAAM,aAIvB,CAEA,IAAIC,EAAmB5C,SAASa,cAC/B,uBAAyBkB,EAAmB,MAEzCc,EAA0B7C,SAAS8C,eACtC,qBAAuBf,GAGjBa,IACNA,EAAmB1C,EAAM,IAGnB2C,IACNA,EAA0BzC,EAAa,IAGxCwC,EAAiBX,cAAe,EAChCW,EAAiBV,UAAUa,IAAK,kBAChCH,EAAiBR,SAAW,EAC5BS,EAAwBX,UAAUa,IAAK,0BACvCF,EAAwBP,QAAS,EACjCO,EAAwBT,SAAW,EAEnC,MAAMG,EACLM,EAAwB1C,iBAAkB,mBAE3C,GAAKoC,EAAcf,OAClB,IAAM,MAAMgB,KAAgBD,EACtBC,EAAaC,KAAKC,SAAU,gBAChCF,EAAaC,KAAOD,EAAaC,KAAKO,QACrC,cACA,KAIGR,EAAaG,GAAGD,SAAU,gBAC9BF,EAAaG,GAAKH,EAAaG,GAAGK,QACjC,cACA,MAcL,SAAwBjC,GACvB,MAAMkC,EAAMrC,EAAasC,MAEzB,IAAOD,EAAIE,SAAU,KACpB,OAGD,MAAMC,EAASH,EAAII,MAAO,KAAMC,MAC1BC,EAAgB,IAAIhD,gBAAiB6C,GAS3C,GARAG,EAAcC,IAAKnD,EAAcU,GAEjCH,EAAasC,MAAQtC,EAAasC,MAAMF,QACvCI,EACAG,EAAcE,YAIV7B,QAAQC,UACZ,IAECD,QAAQ8B,aAAc,KAAM,KAAM9C,EAAasC,MAChD,CAAE,MAAQS,GAETC,QAAQC,MAAOF,EAChB,CAEF,CAlCCG,CAAe/B,EAChB,CAiCA","sources":["webpack://impressum/./assets/js/admin-tabs.js"],"sourcesContent":["document.addEventListener( 'DOMContentLoaded', () => {\n\tconst tabs = document.querySelectorAll( '.nav-tab' );\n\tconst tabContents = document.querySelectorAll( '.nav-tab__content' );\n\tconst tabParameter = 'imprint_tab';\n\tconst urlParams = new URLSearchParams( window.location.search );\n\tconst activeTab = urlParams.get( tabParameter );\n\tconst refererInput = document.querySelector( '[name=\"_wp_http_referer\"]' );\n\n\tif ( activeTab ) {\n\t\tsetActiveTab( activeTab );\n\t}\n\n\tfor ( const tab of tabs ) {\n\t\ttab.addEventListener( 'click', onChange );\n\t\ttab.addEventListener( 'keydown', ( event ) => {\n\t\t\tconst currentTab = event.currentTarget;\n\t\t\tlet newActiveTab;\n\n\t\t\tswitch ( event.key ) {\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\tnewActiveTab = currentTab.previousElementSibling;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\tnewActiveTab = currentTab.nextElementSibling;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'End':\n\t\t\t\t\tnewActiveTab = tabs[ tabs.length - 1 ];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Home':\n\t\t\t\t\tnewActiveTab = tabs[ 0 ];\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif ( newActiveTab ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tnewActiveTab.focus();\n\t\t\t\tsetActiveTab( newActiveTab.getAttribute( 'data-tab' ) );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Function to run on tab change.\n\t *\n\t * @param {MouseEvent} event The event triggering the change\n\t */\n\tfunction onChange( event ) {\n\t\tevent.preventDefault();\n\n\t\tconst currentTarget = event.currentTarget;\n\t\tconst slug = currentTarget.getAttribute( 'data-slug' );\n\n\t\tsetActiveTab( slug );\n\n\t\t// set url in browser\n\t\t// eslint-disable-next-line no-undef\n\t\thistory.pushState( null, null, currentTarget.href );\n\t}\n\n\t/**\n\t * Set the active tab.\n\t *\n\t * @param {string} currentActiveTab Active tab identifier\n\t */\n\tfunction setActiveTab( currentActiveTab ) {\n\t\tfor ( const thisTab of tabs ) {\n\t\t\tthisTab.ariaSelected = false;\n\t\t\tthisTab.classList.remove( 'nav-tab-active' );\n\t\t\tthisTab.tabIndex = -1;\n\t\t}\n\n\t\tfor ( const tabContent of tabContents ) {\n\t\t\ttabContent.classList.remove( 'nav-tab-content-active' );\n\t\t\ttabContent.hidden = true;\n\t\t\ttabContent.tabIndex = -1;\n\t\t\tconst submitButtons =\n\t\t\t\ttabContent.querySelectorAll( '[type=\"submit\"]' );\n\n\t\t\tif ( submitButtons.length ) {\n\t\t\t\tfor ( const submitButton of submitButtons ) {\n\t\t\t\t\tif ( ! submitButton.name.endsWith( '--disabled' ) ) {\n\t\t\t\t\t\tsubmitButton.name += '--disabled';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! submitButton.id.endsWith( '--disabled' ) ) {\n\t\t\t\t\t\tsubmitButton.id += '--disabled';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet activeTabElement = document.querySelector(\n\t\t\t'.nav-tab[data-slug=\"' + currentActiveTab + '\"]'\n\t\t);\n\t\tlet activeTabContentElement = document.getElementById(\n\t\t\t'nav-tab__content--' + currentActiveTab\n\t\t);\n\n\t\tif ( ! activeTabElement ) {\n\t\t\tactiveTabElement = tabs[ 0 ];\n\t\t}\n\n\t\tif ( ! activeTabContentElement ) {\n\t\t\tactiveTabContentElement = tabContents[ 0 ];\n\t\t}\n\n\t\tactiveTabElement.ariaSelected = true;\n\t\tactiveTabElement.classList.add( 'nav-tab-active' );\n\t\tactiveTabElement.tabIndex = 0;\n\t\tactiveTabContentElement.classList.add( 'nav-tab-content-active' );\n\t\tactiveTabContentElement.hidden = false;\n\t\tactiveTabContentElement.tabIndex = 0;\n\n\t\tconst submitButtons =\n\t\t\tactiveTabContentElement.querySelectorAll( '[type=\"submit\"]' );\n\n\t\tif ( submitButtons.length ) {\n\t\t\tfor ( const submitButton of submitButtons ) {\n\t\t\t\tif ( submitButton.name.endsWith( '--disabled' ) ) {\n\t\t\t\t\tsubmitButton.name = submitButton.name.replace(\n\t\t\t\t\t\t/--disabled$/,\n\t\t\t\t\t\t''\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif ( submitButton.id.endsWith( '--disabled' ) ) {\n\t\t\t\t\tsubmitButton.id = submitButton.id.replace(\n\t\t\t\t\t\t/--disabled$/,\n\t\t\t\t\t\t''\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdateReferer( currentActiveTab );\n\t}\n\n\t/**\n\t * Update the _wp_http_referer input depending on the active tab.\n\t *\n\t * @param {string} tab Current active tab identifier\n\t */\n\tfunction updateReferer( tab ) {\n\t\tconst url = refererInput.value;\n\n\t\tif ( ! url.includes( '?' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst params = url.split( '?' ).pop();\n\t\tconst urlParameters = new URLSearchParams( params );\n\t\turlParameters.set( tabParameter, tab );\n\n\t\trefererInput.value = refererInput.value.replace(\n\t\t\tparams,\n\t\t\turlParameters.toString()\n\t\t);\n\n\t\t// eslint-disable-next-line no-undef\n\t\tif ( history.pushState ) {\n\t\t\ttry {\n\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\thistory.replaceState( null, null, refererInput.value );\n\t\t\t} catch ( e ) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error( e );\n\t\t\t}\n\t\t}\n\t}\n} );\n"],"names":["document","addEventListener","tabs","querySelectorAll","tabContents","tabParameter","activeTab","URLSearchParams","window","location","search","get","refererInput","querySelector","setActiveTab","tab","onChange","event","currentTab","currentTarget","newActiveTab","key","previousElementSibling","nextElementSibling","length","preventDefault","focus","getAttribute","history","pushState","href","currentActiveTab","thisTab","ariaSelected","classList","remove","tabIndex","tabContent","hidden","submitButtons","submitButton","name","endsWith","id","activeTabElement","activeTabContentElement","getElementById","add","replace","url","value","includes","params","split","pop","urlParameters","set","toString","replaceState","e","console","error","updateReferer"],"sourceRoot":""}